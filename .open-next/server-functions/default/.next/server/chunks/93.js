exports.id=93,exports.ids=[93],exports.modules={15079:(e,t,a)=>{"use strict";a.d(t,{TR:()=>p,bq:()=>m,eb:()=>f,gC:()=>h,l6:()=>l,s3:()=>c,yv:()=>u});var r=a(60687);a(43210);var s=a(91413),o=a(78272),i=a(13964),n=a(3589),d=a(4780);function l({...e}){return(0,r.jsx)(s.bL,{"data-slot":"select",...e})}function c({...e}){return(0,r.jsx)(s.YJ,{"data-slot":"select-group",...e})}function u({...e}){return(0,r.jsx)(s.WT,{"data-slot":"select-value",...e})}function m({className:e,size:t="default",children:a,...i}){return(0,r.jsxs)(s.l9,{"data-slot":"select-trigger","data-size":t,className:(0,d.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...i,children:[a,(0,r.jsx)(s.In,{asChild:!0,children:(0,r.jsx)(o.A,{className:"size-4 opacity-50"})})]})}function h({className:e,children:t,position:a="popper",...o}){return(0,r.jsx)(s.ZL,{children:(0,r.jsxs)(s.UC,{"data-slot":"select-content",className:(0,d.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===a&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:a,...o,children:[(0,r.jsx)(g,{}),(0,r.jsx)(s.LM,{className:(0,d.cn)("p-1","popper"===a&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),(0,r.jsx)(x,{})]})})}function p({className:e,...t}){return(0,r.jsx)(s.JU,{"data-slot":"select-label",className:(0,d.cn)("text-muted-foreground px-2 py-1.5 text-xs",e),...t})}function f({className:e,children:t,...a}){return(0,r.jsxs)(s.q7,{"data-slot":"select-item",className:(0,d.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...a,children:[(0,r.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,r.jsx)(s.VF,{children:(0,r.jsx)(i.A,{className:"size-4"})})}),(0,r.jsx)(s.p4,{children:t})]})}function g({className:e,...t}){return(0,r.jsx)(s.PP,{"data-slot":"select-scroll-up-button",className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:(0,r.jsx)(n.A,{className:"size-4"})})}function x({className:e,...t}){return(0,r.jsx)(s.wn,{"data-slot":"select-scroll-down-button",className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:(0,r.jsx)(o.A,{className:"size-4"})})}},29523:(e,t,a)=>{"use strict";a.d(t,{$:()=>d});var r=a(60687);a(43210);var s=a(8730),o=a(24224),i=a(4780);let n=(0,o.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function d({className:e,variant:t,size:a,asChild:o=!1,...d}){let l=o?s.DX:"button";return(0,r.jsx)(l,{"data-slot":"button",className:(0,i.cn)(n({variant:t,size:a,className:e})),...d})}},33117:(e,t,a)=>{"use strict";a.r(t),a.d(t,{"0003f5a1e60d99246a546e99da1a9186658d795e6e":()=>c,"00255083791134e4dcc5adebb9ed125928d1b15e43":()=>l,"401f4bff57d7bb495df582e6a61b5c1fcdd4d2f776":()=>u,"40ce81c3f3803f7dbf17b5c113aec4bff6b181356b":()=>m,"608f77a144301b7bbe471b573abd59891b14113181":()=>h});var r=a(91199);a(42087);var s=a(63014),o=a(74208);async function i(){let e=await (0,o.UL)();return(0,s.createServerClient)("https://dxkvwzuattslquqiuncq.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImR4a3Z3enVhdHRzbHF1cWl1bmNxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg4MTk2MTEsImV4cCI6MjA4NDM5NTYxMX0.L9IEiIiz6PYzoH7G_eoVnTbDafNPGc7Dy4jzI5DjkJ8",{cookies:{getAll:()=>e.getAll(),setAll(t){try{t.forEach(({name:t,value:a,options:r})=>e.set(t,a,r))}catch{}}}})}var n=a(90141),d=a(7944);async function l(){let e=await i();await e.auth.signOut(),(0,n.redirect)("/auth/login")}async function c(){let e=await i();try{try{let{data:t}=e.storage.from("cow-images").getPublicUrl("test.txt");if(!t)return{success:!1,error:"Failed to verify bucket access"}}catch(e){return console.error("Error testing bucket access:",e),{success:!1,error:"Failed to verify bucket access"}}return{success:!0}}catch(e){return console.error("Error in createBucketIfNotExists:",e),{success:!1,error:e instanceof Error?e.message:"Unknown error"}}}async function u(e){let t=await i();try{if(!e||0===e.size)return{success:!0,photoUrl:null};let a=Date.now(),r=e.name.split(".").pop(),s=`cow-${a}.${r}`;try{let{data:a,error:r}=await t.storage.from("cow-images").upload(s,e,{cacheControl:"3600",upsert:!0});if(r)throw r;let{data:o}=t.storage.from("cow-images").getPublicUrl(a.path);return{success:!0,photoUrl:o.publicUrl}}catch(a){console.error("Direct upload failed:",a);try{let{data:a,error:r}=await t.storage.from("cow-images").createSignedUploadUrl(s);if(r)throw r;new FormData().append("file",e);let o=await fetch(a.signedUrl,{method:"PUT",body:e,headers:{"Content-Type":e.type}});if(!o.ok)throw Error(`Upload failed: ${o.statusText}`);let{data:i}=t.storage.from("cow-images").getPublicUrl(a.path);return{success:!0,photoUrl:i.publicUrl}}catch(t){console.error("Error with signed URL upload:",t);try{let t=new FormData;t.append("file",e),t.append("path",s);let a=await fetch("/api/upload-image",{method:"POST",body:t});if(!a.ok)throw Error(`Server responded with ${a.status}: ${a.statusText}`);let r=await a.json();if(!r.success)throw Error(r.error||"Server upload failed");return{success:!0,photoUrl:r.photoUrl}}catch(t){console.error("Error with server upload:",t);try{let t=new FormData;t.append("file",e),t.append("path",s),t.append("useFilesystemFallback","true");let a=await fetch("/api/upload-image",{method:"POST",body:t}),r=await a.json();if(r.success)return{success:!0,photoUrl:r.photoUrl};return{success:!1,error:"All upload methods failed. Please try again later."}}catch(e){return console.error("Fallback upload error:",e),{success:!1,error:"All upload methods failed. Please try again later."}}}}}}catch(e){return console.error("Error in uploadImage:",e),{success:!1,error:e instanceof Error?e.message:"Unknown error"}}}async function m(e){let t=await i(),{data:{user:a}}=await t.auth.getUser();a||(0,n.redirect)("/auth/login");try{let r=e.get("tracking_id"),s=e.get("gender"),o=e.get("health_status"),i=e.get("source"),n=e.get("notes")||null,l=e.get("adopter_name")||null,c=e.get("photo"),m=e.get("date_time")||null,h=r;if(!r||""===r.trim()){let e=Date.now().toString().slice(-10),t=Math.floor(100*Math.random()).toString().padStart(2,"0");h=e+t}let p=m&&""!==m.trim()?new Date(m).toISOString():new Date().toISOString(),f=null;if(c&&c.size>0){let e=await u(c);if(!e.success)return{success:!1,error:`Failed to upload image: ${e.error}`};f=e.photoUrl}if(!s)return{success:!1,error:"Gender is required"};if(!i)return{success:!1,error:"Source is required"};let{data:g,error:x}=await t.from("cows").insert({tracking_id:h,gender:s,health_status:o||"healthy",source:i,notes:n,photo_url:f,adopter_name:l||null,created_by:a.id,created_at:p,updated_at:p}).select().single();if(x)return console.error("Error registering cow:",x),{success:!1,error:x.message};try{await t.from("logs").insert({action:"cow_registration",user_id:a.id,cow_id:g.id,details:{tracking_id:h,registration_date:p},created_at:new Date().toISOString()})}catch(e){console.error("Error logging activity:",e)}return(0,d.revalidatePath)("/dashboard"),{success:!0,cowId:g.id}}catch(e){return console.error("Error in registerCowAction:",e),{success:!1,error:"An unexpected error occurred"}}}async function h(e,t){let a=await i(),{data:{user:r}}=await a.auth.getUser();r||(0,n.redirect)("/auth/login");try{let s=t.get("gender"),o=t.get("health_status"),i=t.get("source"),n=t.get("notes")||null,l=t.get("adopter_name")||null,c=t.get("photo"),m=t.get("date_time")||null,{data:h}=await a.from("cows").select("photo_url, tracking_id, created_at").eq("id",e).single(),p=h?.photo_url||null;if(c&&c.size>0){let e=await u(c);if(!e.success)return{success:!1,error:`Failed to upload image: ${e.error}`};p=e.photoUrl}let f=m&&""!==m.trim()?new Date(m).toISOString():h?.created_at||new Date().toISOString(),{data:g,error:x}=await a.from("cows").update({gender:s,health_status:o,source:i,notes:n,photo_url:p,adopter_name:l,created_at:f,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(x)return{success:!1,error:x.message};try{await a.from("logs").insert({action:"cow_update",user_id:r.id,cow_id:e,details:{tracking_id:g.tracking_id,update_date:new Date().toISOString()}})}catch(e){console.error("Error logging activity:",e)}return(0,d.revalidatePath)("/dashboard"),(0,d.revalidatePath)(`/dashboard/cows/${e}`),{success:!0}}catch(e){return console.error("Error in updateCowAction:",e),{success:!1,error:"An unexpected error occurred"}}}(0,a(33331).D)([l,c,u,m,h]),(0,r.A)(l,"00255083791134e4dcc5adebb9ed125928d1b15e43",null),(0,r.A)(c,"0003f5a1e60d99246a546e99da1a9186658d795e6e",null),(0,r.A)(u,"401f4bff57d7bb495df582e6a61b5c1fcdd4d2f776",null),(0,r.A)(m,"40ce81c3f3803f7dbf17b5c113aec4bff6b181356b",null),(0,r.A)(h,"608f77a144301b7bbe471b573abd59891b14113181",null)},34729:(e,t,a)=>{"use strict";a.d(t,{T:()=>o});var r=a(60687);a(43210);var s=a(4780);function o({className:e,...t}){return(0,r.jsx)("textarea",{"data-slot":"textarea",className:(0,s.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}},44493:(e,t,a)=>{"use strict";a.d(t,{BT:()=>d,Wu:()=>l,ZB:()=>n,Zp:()=>o,aR:()=>i});var r=a(60687);a(43210);var s=a(4780);function o({className:e,...t}){return(0,r.jsx)("div",{"data-slot":"card",className:(0,s.cn)("bg-card text-card-foreground flex flex-col rounded-xl border overflow-hidden",e),...t})}function i({className:e,...t}){return(0,r.jsx)("div",{"data-slot":"card-header",className:(0,s.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-4",e),...t})}function n({className:e,...t}){return(0,r.jsx)("div",{"data-slot":"card-title",className:(0,s.cn)("leading-none font-semibold",e),...t})}function d({className:e,...t}){return(0,r.jsx)("div",{"data-slot":"card-description",className:(0,s.cn)("text-muted-foreground text-sm",e),...t})}function l({className:e,...t}){return(0,r.jsx)("div",{"data-slot":"card-content",className:(0,s.cn)("px-8 pb-4",e),...t})}},56399:e=>{function t(e){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=56399,e.exports=t},63503:(e,t,a)=>{"use strict";a.d(t,{Cf:()=>c,L3:()=>m,c7:()=>u,lG:()=>n});var r=a(60687);a(43210);var s=a(26134),o=a(11860),i=a(4780);function n({...e}){return(0,r.jsx)(s.bL,{"data-slot":"dialog",...e})}function d({...e}){return(0,r.jsx)(s.ZL,{"data-slot":"dialog-portal",...e})}function l({className:e,...t}){return(0,r.jsx)(s.hJ,{"data-slot":"dialog-overlay",className:(0,i.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function c({className:e,children:t,showCloseButton:a=!0,...n}){return(0,r.jsxs)(d,{"data-slot":"dialog-portal",children:[(0,r.jsx)(l,{}),(0,r.jsxs)(s.UC,{"data-slot":"dialog-content",className:(0,i.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...n,children:[t,a&&(0,r.jsxs)(s.bm,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,r.jsx)(o.A,{}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function u({className:e,...t}){return(0,r.jsx)("div",{"data-slot":"dialog-header",className:(0,i.cn)("flex flex-col gap-2 text-center sm:text-left",e),...t})}function m({className:e,...t}){return(0,r.jsx)(s.hE,{"data-slot":"dialog-title",className:(0,i.cn)("text-lg leading-none font-semibold",e),...t})}},82120:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o,a:()=>s});var r=a(43210);function s(){let[e,t]=r.useState(void 0);return r.useEffect(()=>{let e=window.matchMedia("(max-width: 767px)"),a=()=>{t(window.innerWidth<768)};return e.addEventListener("change",a),t(window.innerWidth<768),()=>e.removeEventListener("change",a)},[]),!!e}function o(){let[e,t]=r.useState(void 0);return r.useEffect(()=>{let e=window.matchMedia("(max-width: 1023px)"),a=()=>{t(window.innerWidth<1024)};return e.addEventListener("change",a),t(window.innerWidth<1024),()=>e.removeEventListener("change",a)},[]),!!e}},84815:(e,t,a)=>{"use strict";a.d(t,{A:()=>j});var r=a(60687),s=a(63503),o=a(96834),i=a(29523),n=a(89667),d=a(34729),l=a(15079),c=a(30474),u=a(44867),m=a(82120),h=a(90131),p=a(11860),f=a(41862),g=a(8819),x=a(43210),b=a(6475);let v=(0,b.createServerReference)("608f77a144301b7bbe471b573abd59891b14113181",b.callServer,void 0,b.findSourceMapURL,"updateCowAction");var w=a(20140),y=a(16189);function j({cow:e,isOpen:t,onClose:a}){let b=(0,m.a)(),{toast:j}=(0,w.d)(),N=(0,y.useRouter)(),[_,k]=(0,x.useState)(!1),[C,z]=(0,x.useState)(!1),[S,E]=(0,x.useState)({tracking_id:"",gender:"",health_status:"",source:"",adopter_name:"",notes:""}),U=()=>{k(!0)},A=async()=>{if(e){z(!0);try{let t=new FormData;t.append("gender",S.gender),t.append("health_status",S.health_status),t.append("source",S.source),t.append("adopter_name",S.adopter_name),t.append("notes",S.notes);let a=await v(e.id,t);a.success?(j({title:"Success",description:"Cow details updated successfully"}),k(!1),N.refresh()):j({title:"Error",description:a.error||"Failed to update cow details",variant:"destructive"})}catch(e){j({title:"Error",description:"An unexpected error occurred",variant:"destructive"})}finally{z(!1)}}},D=(e,t)=>{E(a=>({...a,[e]:t}))};return e?(0,r.jsx)(s.lG,{open:t,onOpenChange:a,children:(0,r.jsxs)(s.Cf,{className:`w-[calc(100%-1rem)] ${_?"sm:max-w-lg md:max-w-xl":"sm:max-w-md"} shadow-xl p-4 sm:p-6 max-h-[95vh] overflow-y-auto`,style:{border:"1px solid #dfe3ee"},children:[(0,r.jsx)(s.c7,{children:(0,r.jsx)(s.L3,{className:"text-xl font-bold",style:{color:"#3b5998"},children:"Cow Details"})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:gap-6 mt-2 pb-4",children:[(0,r.jsx)("div",{className:"flex justify-center",children:e.photo_url?(0,r.jsx)("div",{className:`${b?"w-32 h-32":"w-40 h-40"} relative rounded-lg overflow-hidden border border-gray-200 shadow-md`,children:(0,r.jsx)(c.default,{src:e.photo_url,alt:`Photo of ${S.tracking_id}`,fill:!0,className:"object-cover"})}):(0,r.jsx)("div",{className:`${b?"w-32 h-32":"w-36 h-36"} rounded-lg flex items-center justify-center text-5xl border border-gray-200 shadow-md`,style:{backgroundColor:"#f7f7f7"},children:"\uD83D\uDC04"})}),(0,r.jsx)("div",{className:"flex items-center justify-center",children:(0,r.jsx)(o.E,{className:"px-4 py-1 text-sm font-medium shadow-sm",style:(e=>{switch(e){case"healthy":return{backgroundColor:"#dcfce7",color:"#16a34a",border:"1px solid #bbf7d0"};case"sick":return{backgroundColor:"#fee2e2",color:"#dc2626",border:"1px solid #fecaca"};case"under_treatment":return{backgroundColor:"#fef3c7",color:"#d97706",border:"1px solid #fed7aa"};case"quarantine":return{backgroundColor:"#f3e8ff",color:"#a855f7",border:"1px solid #e9d5ff"};default:return{backgroundColor:"#f3f4f6",color:"#374151",border:"1px solid #d1d5db"}}})(S.health_status),children:S.health_status.replace(/_/g," ")})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 p-3 sm:p-4 rounded-lg",style:{backgroundColor:"#f7f7f7",border:"1px solid #dfe3ee"},children:[(0,r.jsxs)("div",{className:"bg-white p-2 sm:p-3 rounded-md shadow-sm",style:{border:"1px solid #dfe3ee"},children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,r.jsx)("p",{className:"text-xs font-medium",style:{color:"#8b9dc3"},children:"Tracking ID"}),(0,r.jsx)(i.$,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 opacity-50 hover:opacity-100",onClick:U,disabled:_,children:(0,r.jsx)(h.A,{className:"h-3 w-3"})})]}),(0,r.jsx)("p",{className:"font-semibold text-sm sm:text-base",style:{color:"#3b5998"},children:S.tracking_id})]}),(0,r.jsxs)("div",{className:"bg-white p-2 sm:p-3 rounded-md shadow-sm",style:{border:"1px solid #dfe3ee"},children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,r.jsx)("p",{className:"text-xs font-medium",style:{color:"#8b9dc3"},children:"Gender"}),(0,r.jsx)(i.$,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 opacity-50 hover:opacity-100",onClick:U,disabled:_,children:(0,r.jsx)(h.A,{className:"h-3 w-3"})})]}),_?(0,r.jsxs)(l.l6,{value:S.gender,onValueChange:e=>D("gender",e),children:[(0,r.jsx)(l.bq,{className:"h-8 text-sm",children:(0,r.jsx)(l.yv,{placeholder:"Select gender"})}),(0,r.jsxs)(l.gC,{children:[(0,r.jsx)(l.eb,{value:"male",children:"Male"}),(0,r.jsx)(l.eb,{value:"female",children:"Female"}),(0,r.jsx)(l.eb,{value:"calf",children:"Calf"})]})]}):(0,r.jsx)("p",{className:"font-semibold capitalize text-sm sm:text-base",style:{color:"#3b5998"},children:S.gender})]}),(0,r.jsxs)("div",{className:"bg-white p-2 sm:p-3 rounded-md shadow-sm",style:{border:"1px solid #dfe3ee"},children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,r.jsx)("p",{className:"text-xs font-medium",style:{color:"#8b9dc3"},children:"Source"}),(0,r.jsx)(i.$,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 opacity-50 hover:opacity-100",onClick:U,disabled:_,children:(0,r.jsx)(h.A,{className:"h-3 w-3"})})]}),_?(0,r.jsxs)(l.l6,{value:S.source,onValueChange:e=>D("source",e),children:[(0,r.jsx)(l.bq,{className:"h-8 text-sm",children:(0,r.jsx)(l.yv,{placeholder:"Select source"})}),(0,r.jsxs)(l.gC,{children:[(0,r.jsx)(l.eb,{value:"rescue",children:"Rescue"}),(0,r.jsx)(l.eb,{value:"donation",children:"Donation"}),(0,r.jsx)(l.eb,{value:"birth",children:"Birth"}),(0,r.jsx)(l.eb,{value:"stray",children:"Stray"}),(0,r.jsx)(l.eb,{value:"transferred",children:"Transferred"}),(0,r.jsx)(l.eb,{value:"rescued",children:"Rescued"})]})]}):(0,r.jsx)("p",{className:"font-semibold capitalize text-sm sm:text-base break-words",style:{color:"#3b5998"},children:S.source})]}),(0,r.jsxs)("div",{className:"bg-white p-2 sm:p-3 rounded-md shadow-sm",style:{border:"1px solid #dfe3ee"},children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,r.jsx)("p",{className:"text-xs font-medium",style:{color:"#8b9dc3"},children:"Adopter Name"}),(0,r.jsx)(i.$,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 opacity-50 hover:opacity-100",onClick:U,disabled:_,children:(0,r.jsx)(h.A,{className:"h-3 w-3"})})]}),_?(0,r.jsx)(n.p,{value:S.adopter_name,onChange:e=>D("adopter_name",e.target.value),placeholder:"Enter adopter name",className:"h-8 text-sm"}):(0,r.jsx)("p",{className:"font-semibold text-sm sm:text-base",style:{color:"#3b5998"},children:S.adopter_name||"No adopter yet"})]}),_&&(0,r.jsxs)("div",{className:"col-span-1 sm:col-span-2 bg-white p-2 sm:p-3 rounded-md shadow-sm",style:{border:"1px solid #dfe3ee"},children:[(0,r.jsx)("div",{className:"flex items-center justify-between mb-1",children:(0,r.jsx)("p",{className:"text-xs font-medium",style:{color:"#8b9dc3"},children:"Health Status"})}),(0,r.jsxs)(l.l6,{value:S.health_status,onValueChange:e=>D("health_status",e),children:[(0,r.jsx)(l.bq,{className:"h-8 text-sm",children:(0,r.jsx)(l.yv,{placeholder:"Select health status"})}),(0,r.jsxs)(l.gC,{children:[(0,r.jsx)(l.eb,{value:"healthy",children:"Healthy"}),(0,r.jsx)(l.eb,{value:"sick",children:"Sick"}),(0,r.jsx)(l.eb,{value:"under_treatment",children:"Under Treatment"}),(0,r.jsx)(l.eb,{value:"quarantine",children:"Quarantine"})]})]})]}),(0,r.jsxs)("div",{className:"col-span-1 sm:col-span-2 bg-white p-2 sm:p-3 rounded-md shadow-sm",style:{border:"1px solid #dfe3ee"},children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,r.jsx)("p",{className:"text-xs font-medium",style:{color:"#8b9dc3"},children:"Notes"}),(0,r.jsx)(i.$,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 opacity-50 hover:opacity-100",onClick:U,disabled:_,children:(0,r.jsx)(h.A,{className:"h-3 w-3"})})]}),_?(0,r.jsx)(d.T,{value:S.notes,onChange:e=>D("notes",e.target.value),placeholder:"Enter notes about the cow",className:"text-sm min-h-[60px]"}):(0,r.jsx)("p",{className:"text-sm",style:{color:"#3b5998"},children:S.notes||"No notes available"})]}),(0,r.jsxs)("div",{className:"col-span-1 sm:col-span-2 bg-white p-2 sm:p-3 rounded-md shadow-sm",style:{border:"1px solid #dfe3ee"},children:[(0,r.jsx)("p",{className:"text-xs font-medium",style:{color:"#8b9dc3"},children:"Registered On"}),(0,r.jsx)("p",{className:"font-semibold text-sm sm:text-base",style:{color:"#3b5998"},children:(0,u.GP)(new Date(e.created_at),"MMM d, yyyy â€¢ h:mm a")})]})]}),_&&(0,r.jsxs)("div",{className:"flex gap-2 justify-end pt-4 pb-2 border-t mt-4",children:[(0,r.jsxs)(i.$,{variant:"outline",onClick:()=>{e&&E({tracking_id:e.tracking_id||"",gender:e.gender||"",health_status:e.health_status||"",source:e.source||"",adopter_name:e.adopter_name||"",notes:e.notes||""}),k(!1)},disabled:C,className:"flex items-center gap-2",children:[(0,r.jsx)(p.A,{className:"h-4 w-4"}),"Discard"]}),(0,r.jsxs)(i.$,{onClick:A,disabled:C,className:"flex items-center gap-2",style:{backgroundColor:"#3b5998",borderColor:"#3b5998"},children:[C?(0,r.jsx)(f.A,{className:"h-4 w-4 animate-spin"}):(0,r.jsx)(g.A,{className:"h-4 w-4"}),C?"Saving...":"Save"]})]})]})]})}):null}},89667:(e,t,a)=>{"use strict";a.d(t,{p:()=>o});var r=a(60687);a(43210);var s=a(4780);function o({className:e,type:t,...a}){return(0,r.jsx)("input",{type:t,"data-slot":"input",className:(0,s.cn)("file:text-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...a})}},96834:(e,t,a)=>{"use strict";a.d(t,{E:()=>d});var r=a(60687);a(43210);var s=a(8730),o=a(24224),i=a(4780);let n=(0,o.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function d({className:e,variant:t,asChild:a=!1,...o}){let d=a?s.DX:"span";return(0,r.jsx)(d,{"data-slot":"badge",className:(0,i.cn)(n({variant:t}),e),...o})}}};