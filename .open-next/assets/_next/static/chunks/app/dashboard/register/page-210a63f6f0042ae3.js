(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[27],{2424:(e,r,t)=>{"use strict";t.d(r,{A:()=>b});var s=t(95155),a=t(12115),l=t(54165),n=t(30285),o=t(84355),c=t(1243),i=t(51154),d=t(54416),u=t(35695),m=t(20067),x=t(79276),h=t(88262);function b(e){let{isOpen:r,onClose:b}=e,[f,g]=(0,a.useState)(null),[j,p]=(0,a.useState)(!1),[v,y]=(0,a.useState)(null),N=(0,a.useRef)(null),w=(0,u.useRouter)(),C=(0,m.createBrowserClient)("https://dxkvwzuattslquqiuncq.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImR4a3Z3enVhdHRzbHF1cWl1bmNxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg4MTk2MTEsImV4cCI6MjA4NDM5NTYxMX0.L9IEiIiz6PYzoH7G_eoVnTbDafNPGc7Dy4jzI5DjkJ8"),{toast:k}=(0,h.d)(),{startScanning:S,stopScanning:F,isScanning:E,hasPermission:I,errorType:P,errorMessage:_,videoRef:T,resetError:R}=function(){let[e,r]=(0,a.useState)(!1),[t,s]=(0,a.useState)(null),[l,n]=(0,a.useState)(null),[o,c]=(0,a.useState)(null),i=(0,a.useRef)(null),d=(0,a.useRef)(null);(0,a.useEffect)(()=>()=>{d.current&&(d.current.getTracks().forEach(e=>e.stop()),d.current=null)},[]);let u=()=>{n(null),c(null)};return{startScanning:async()=>{u(),r(!0);try{let e=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});i.current&&(i.current.srcObject=e,d.current=e,s(!0))}catch(e){console.error("Camera access error:",e),s(!1),"NotAllowedError"===e.name?(n("permission_denied"),c("Camera access denied. Please allow camera permissions to scan barcodes.")):"NotReadableError"===e.name?(n("not_readable"),c("Cannot access camera. It may be in use by another application. Please close other apps using the camera and try again.")):"NotFoundError"===e.name?(n("not_found"),c("No camera found on this device.")):"ConstraintNotSatisfiedError"===e.name?(n("constraint_error"),c("Your camera does not meet the required specifications.")):"SecurityError"===e.name?(n("security_error"),c("Camera access blocked due to security restrictions. Make sure you're using HTTPS.")):(n("unknown"),c("Camera error: ".concat(e.message||"Unknown error"))),r(!1)}},stopScanning:()=>{d.current&&(d.current.getTracks().forEach(e=>e.stop()),d.current=null),i.current&&(i.current.srcObject=null),r(!1)},isScanning:e,hasPermission:t,errorType:l,errorMessage:o,videoRef:i,resetError:u}}();(0,a.useEffect)(()=>{let e=async()=>{r&&(await S(),I&&A())};return r&&e(),()=>{if(E&&F(),v)try{v.reset()}catch(e){console.log("Error resetting barcode reader:",e)}}},[r]),(0,a.useEffect)(()=>{!0===I&&T.current&&A()},[I]);let A=async()=>{try{let{BrowserMultiFormatReader:e}=await t.e(142).then(t.bind(t,76142)),r=new e;y(r),T.current&&r.decodeFromVideoElement(T.current).then(async e=>{if(e){let r=e.getText();D(r)}}).catch(e=>{e.toString().includes("NotFoundException")||(console.error("Scanning error:",e),k({title:"Scanning Error",description:"Failed to read barcode. Please try again.",variant:"destructive"}))})}catch(e){console.error("Error initializing barcode reader:",e),k({title:"Scanner Error",description:"Failed to initialize the barcode scanner.",variant:"destructive"})}},D=async e=>{F();try{let{data:r,error:t}=await C.from("cows").select("*").eq("tracking_id",e).single();t?"PGRST116"===t.code?(w.push("/dashboard/register?tracking_id=".concat(encodeURIComponent(e))),b()):(console.error("Error fetching cow data:",t),k({title:"Database Error",description:"Failed to check the database for this barcode.",variant:"destructive"})):r&&(g(r),p(!0))}catch(e){console.error("Error processing barcode:",e),k({title:"Processing Error",description:"Failed to process the scanned barcode.",variant:"destructive"})}},M=()=>{R(),S()};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.lG,{open:r,onOpenChange:b,children:(0,s.jsxs)(l.Cf,{className:"w-[calc(100%-2rem)] max-w-md shadow-xl p-4",style:{border:"1px solid #dfe3ee"},children:[(0,s.jsx)(l.c7,{children:(0,s.jsx)(l.L3,{className:"text-xl font-bold",style:{color:"#3b5998"},children:"Scan Barcode"})}),(0,s.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[!1===I&&P&&(()=>{switch(P){case"not_readable":return(0,s.jsxs)("div",{className:"text-center p-4 bg-amber-50 border border-amber-200 rounded-lg",children:[(0,s.jsx)("div",{className:"flex justify-center mb-2",children:(0,s.jsx)(o.A,{className:"text-amber-600 h-8 w-8"})}),(0,s.jsx)("h3",{className:"font-medium text-amber-800 mb-1",children:"Camera In Use"}),(0,s.jsx)("p",{className:"text-amber-700 mb-3 text-sm",children:"Your camera appears to be in use by another application. Please close other apps that might be using the camera."}),(0,s.jsx)(n.$,{onClick:M,variant:"outline",size:"sm",className:"bg-white",children:"Try Again"})]});case"permission_denied":return(0,s.jsxs)("div",{className:"text-center p-4 bg-red-50 border border-red-200 rounded-lg",children:[(0,s.jsx)("div",{className:"flex justify-center mb-2",children:(0,s.jsx)(c.A,{className:"text-red-600 h-8 w-8"})}),(0,s.jsx)("h3",{className:"font-medium text-red-800 mb-1",children:"Camera Access Denied"}),(0,s.jsx)("p",{className:"text-red-700 mb-3 text-sm",children:"Camera access is required to scan barcodes. Please allow camera permissions in your browser settings."}),(0,s.jsx)(n.$,{onClick:M,variant:"destructive",size:"sm",children:"Try Again"})]});default:return(0,s.jsxs)("div",{className:"text-center p-4 bg-amber-50 border border-amber-200 rounded-lg",children:[(0,s.jsx)("p",{className:"text-amber-700 mb-2",children:_||"An error occurred with the camera"}),(0,s.jsx)(n.$,{onClick:M,variant:"outline",size:"sm",children:"Try Again"})]})}})(),!1!==I&&!P&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"relative w-full aspect-square max-w-xs bg-black rounded-lg overflow-hidden",children:[(0,s.jsx)("video",{ref:T,className:"absolute inset-0 w-full h-full object-cover",autoPlay:!0,playsInline:!0}),(0,s.jsx)("canvas",{ref:N,className:"hidden"}),(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,s.jsx)("div",{className:"w-3/4 h-3/4 border-2 rounded-lg opacity-70",style:{borderColor:"#3b5998"}})}),E&&(0,s.jsxs)("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-black/70 text-white px-4 py-2 rounded-full text-sm flex items-center",children:[(0,s.jsx)(i.A,{className:"animate-spin mr-2",size:16}),"Scanning..."]})]}),(0,s.jsx)("p",{className:"text-sm text-gray-600 text-center",children:"Position the barcode within the green box"})]}),(0,s.jsxs)(n.$,{onClick:()=>{F(),b()},variant:"outline",className:"mt-2",size:"sm",children:[(0,s.jsx)(d.A,{size:16,className:"mr-2"}),"Cancel"]})]})]})}),f&&(0,s.jsx)(x.A,{cow:f,isOpen:j,onClose:()=>{p(!1),b()}})]})}},3271:(e,r,t)=>{Promise.resolve().then(t.bind(t,10792))},10792:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>B});var s=t(95155),a=t(12115),l=t(35695),n=t(66695),o=t(62523),c=t(85057),i=t(30285),d=t(59409),u=t(88539),m=t(66766),x=t(54416),h=t(29869);function b(e){let{name:r,defaultValue:t,onChange:l}=e,[n,c]=(0,a.useState)(null),[i,d]=(0,a.useState)(!1),u=(0,a.useRef)(null);return(0,a.useEffect)(()=>{t&&c(t)},[t]),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("div",{className:"border-2 border-dashed rounded-lg p-4 flex flex-col items-center justify-center cursor-pointer transition-colors",style:{borderColor:"#dfe3ee",backgroundColor:"#f7f7f7"},onMouseEnter:e=>e.currentTarget.style.borderColor="#8b9dc3",onMouseLeave:e=>e.currentTarget.style.borderColor="#dfe3ee",onClick:()=>{var e;null==(e=u.current)||e.click()},children:n?(0,s.jsxs)("div",{className:"relative w-full h-64 mb-2",children:[(0,s.jsx)(m.default,{src:n,alt:"Preview",fill:!0,className:"object-contain rounded-md"}),(0,s.jsx)("button",{type:"button",onClick:e=>{e.stopPropagation(),c(null),u.current&&(u.current.value=""),l&&l(null)},className:"absolute top-2 right-2 bg-red-100 hover:bg-red-200 text-red-600 rounded-full p-1 transition-colors",children:(0,s.jsx)(x.A,{size:16})})]}):(0,s.jsx)("div",{className:"text-center py-12",children:i?(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2",style:{borderColor:"#3b5998"}}),(0,s.jsx)("p",{className:"mt-2 text-sm",style:{color:"#8b9dc3"},children:"Uploading..."})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"mx-auto h-16 w-16 rounded-full flex items-center justify-center",style:{backgroundColor:"#f7f7f7"},children:(0,s.jsx)(h.A,{size:28,style:{color:"#3b5998"}})}),(0,s.jsx)("p",{className:"mt-4 text-sm font-medium",style:{color:"#3b5998"},children:"Click to upload an image of the cow"}),(0,s.jsx)("p",{className:"text-xs mt-1",style:{color:"#8b9dc3"},children:"PNG, JPG, WEBP up to 5MB"})]})})}),(0,s.jsx)(o.p,{ref:u,type:"file",name:r,accept:"image/*",onChange:e=>{var r;let t=null==(r=e.target.files)?void 0:r[0];if(t){if(t.size>5242880)return void alert("File is too large. Maximum size is 5MB.");d(!0);let e=new FileReader;e.onloadend=()=>{c(e.result),d(!1),l&&l(t)},e.readAsDataURL(t)}},className:"hidden"},n?"file-input-with-preview":"file-input-no-preview")]})}var f=t(34477);let g=(0,f.createServerReference)("40ce81c3f3803f7dbf17b5c113aec4bff6b181356b",f.callServer,void 0,f.findSourceMapURL,"registerCowAction");var j=t(97939),p=t(51154),v=t(62177),y=t(63560),N=t(70927),w=t(99708),C=t(59434);let k=v.Op,S=a.createContext({}),F=e=>{let{...r}=e;return(0,s.jsx)(S.Provider,{value:{name:r.name},children:(0,s.jsx)(v.xI,{...r})})},E=()=>{let e=a.useContext(S),r=a.useContext(I),{getFieldState:t,formState:s}=(0,v.xW)(),l=t(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");let{id:n}=r;return{id:n,name:e.name,formItemId:"".concat(n,"-form-item"),formDescriptionId:"".concat(n,"-form-item-description"),formMessageId:"".concat(n,"-form-item-message"),...l}},I=a.createContext({}),P=a.forwardRef((e,r)=>{let{className:t,...l}=e,n=a.useId();return(0,s.jsx)(I.Provider,{value:{id:n},children:(0,s.jsx)("div",{ref:r,className:(0,C.cn)("space-y-2",t),...l})})});P.displayName="FormItem";let _=a.forwardRef((e,r)=>{let{className:t,...a}=e,{error:l,formItemId:n}=E();return(0,s.jsx)(c.J,{ref:r,className:(0,C.cn)(l&&"text-destructive",t),htmlFor:n,...a})});_.displayName="FormLabel";let T=a.forwardRef((e,r)=>{let{...t}=e,{error:a,formItemId:l,formDescriptionId:n,formMessageId:o}=E();return(0,s.jsx)(w.DX,{ref:r,id:l,"aria-describedby":a?"".concat(n," ").concat(o):"".concat(n),"aria-invalid":!!a,...t})});T.displayName="FormControl",a.forwardRef((e,r)=>{let{className:t,...a}=e,{formDescriptionId:l}=E();return(0,s.jsx)("p",{ref:r,id:l,className:(0,C.cn)("text-sm text-muted-foreground",t),...a})}).displayName="FormDescription";let R=a.forwardRef((e,r)=>{let{className:t,children:a,...l}=e,{error:n,formMessageId:o}=E(),c=n?String(null==n?void 0:n.message):a;return c?(0,s.jsx)("p",{ref:r,id:o,className:(0,C.cn)("text-sm font-medium text-destructive",t),...l,children:c}):null});R.displayName="FormMessage";var A=t(88262),D=t(2424),M=t(40416);let z=N.Ik({tracking_id:N.Yj().refine(e=>""===e||12===e.length,{message:"Tracking ID must be exactly 12 digits if provided"}),gender:N.k5(["female","male","calf"]),health_status:N.k5(["healthy","sick","under_treatment","quarantine"]),source:N.Yj(),adopter_name:N.Yj().optional(),date_time:N.Yj().optional(),notes:N.Yj().optional()}),O=["Nashik Road Police Station","Bhadrakali Police Station","Satpur Police Station","Ambad Police Station","Panchavati Police Station","Mahatma Nagar Police Station","Indira Nagar Police Station","Mhasrul Police Station","Gangapur Police Station","Adgaon Police Station"];function B(){let e=(0,l.useRouter)(),r=(0,l.useSearchParams)(),[t,m]=(0,a.useState)(!1),[x,h]=(0,a.useState)(null),{toast:f}=(0,A.d)(),[N,w]=(0,a.useState)(!1),C=(0,M.Z)(),S=r.get("tracking_id")||"",E=(0,v.mN)({resolver:(0,y.u)(z),defaultValues:{gender:"female",health_status:"healthy",source:"donation",tracking_id:S,adopter_name:"",date_time:"",notes:""}});(0,a.useEffect)(()=>{S&&E.setValue("tracking_id",S)},[S,E]);let I=function(e,r){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];f({title:e,description:r,variant:t?"destructive":"success"})},B=()=>{w(!0)},V=async r=>{m(!0);try{let t=new FormData;Object.entries(r).forEach(e=>{let[r,s]=e;null!=s&&""!==s&&t.append(r,s.toString())}),x&&t.set("photo",x);let s=await g(t);s.success?(I("Success","Cow registered successfully!"),e.push("/dashboard")):(I("Error",s.error||"Failed to register cow",!0),m(!1))}catch(e){console.error("Error submitting form:",e),I("Error","An unexpected error occurred",!0),m(!1)}};return(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsx)("div",{className:"rounded-xl p-4",style:{background:"linear-gradient(90deg, #dfe3ee 0%, #f7f7f7 100%)",border:"1px solid #dfe3ee"},children:(0,s.jsx)("div",{className:"flex items-center space-x-3",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold mb-1",style:{background:"linear-gradient(90deg, #3b5998 0%, #8b9dc3 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Register New Cow"}),(0,s.jsx)("p",{className:"font-medium",style:{color:"#3b5998"},children:"Add a new cow to the gaushala management system"})]})})}),(0,s.jsxs)(n.Zp,{className:"border-0 shadow-2xl bg-white/90 backdrop-blur-sm",children:[(0,s.jsx)(n.aR,{className:"border-b",style:{borderColor:"#dfe3ee",background:"linear-gradient(90deg, #dfe3ee 0%, #f7f7f7 100%)"},children:(0,s.jsx)(n.ZB,{className:"text-2xl font-bold flex items-center space-x-2",style:{background:"linear-gradient(90deg, #3b5998 0%, #8b9dc3 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:(0,s.jsx)("span",{className:"pt-6",children:"Cow Details"})})}),(0,s.jsx)(n.Wu,{className:"pt-2 px-6 pb-8",children:(0,s.jsx)(k,{...E,children:(0,s.jsxs)("form",{onSubmit:E.handleSubmit(V),className:"space-y-8",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 pt-6",children:[(0,s.jsx)(F,{control:E.control,name:"tracking_id",render:e=>{let{field:r}=e;return(0,s.jsxs)(P,{className:"space-y-3",children:[(0,s.jsxs)(_,{className:"text-sm font-semibold text-gray-700 flex items-center space-x-2",children:[(0,s.jsx)("span",{children:"\uD83C\uDFF7ï¸"}),(0,s.jsx)("span",{children:"Tracking ID (Optional)"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)(T,{children:(0,s.jsx)(o.p,{placeholder:"Will be auto-generated if left empty",className:"h-12 border-2 rounded-xl transition-all duration-200 font-medium focus:bg-white",style:{borderColor:"#dfe3ee",backgroundColor:"#f7f7f7"},onFocus:e=>e.target.style.borderColor="#3b5998",...r,value:r.value||"",maxLength:12})}),C&&(0,s.jsx)(i.$,{type:"button",variant:"outline",size:"icon",onClick:B,className:"h-12 w-12 border-2 rounded-xl transition-all duration-200",style:{borderColor:"#dfe3ee"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#dfe3ee",e.currentTarget.style.borderColor="#3b5998"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent",e.currentTarget.style.borderColor="#dfe3ee"},children:(0,s.jsx)(j.A,{className:"h-5 w-5",style:{color:"#3b5998"}})})]}),(0,s.jsx)("p",{className:"text-xs font-medium",style:{color:"#3b5998"},children:"\uD83D\uDCA1 Leave empty for auto-generated ID or enter exactly 12 digits"}),(0,s.jsx)(R,{})]})}}),(0,s.jsx)(F,{control:E.control,name:"gender",render:e=>{let{field:r}=e;return(0,s.jsxs)(P,{children:[(0,s.jsx)(_,{children:"Gender"}),(0,s.jsxs)(d.l6,{onValueChange:r.onChange,defaultValue:r.value,value:r.value,children:[(0,s.jsx)(T,{children:(0,s.jsx)(d.bq,{style:{borderColor:"#dfe3ee"},className:"focus-visible:ring-2 focus-visible:ring-offset-2",onFocus:e=>e.target.style.boxShadow="0 0 0 2px #3b5998",onBlur:e=>e.target.style.boxShadow="none",children:(0,s.jsx)(d.yv,{placeholder:"Select gender"})})}),(0,s.jsxs)(d.gC,{children:[(0,s.jsx)(d.eb,{value:"female",children:"Female"}),(0,s.jsx)(d.eb,{value:"male",children:"Male"}),(0,s.jsx)(d.eb,{value:"calf",children:"Calf"})]})]}),(0,s.jsx)(R,{})]})}}),(0,s.jsx)(F,{control:E.control,name:"health_status",render:e=>{let{field:r}=e;return(0,s.jsxs)(P,{children:[(0,s.jsx)(_,{children:"Health Status"}),(0,s.jsxs)(d.l6,{onValueChange:r.onChange,defaultValue:r.value,value:r.value,children:[(0,s.jsx)(T,{children:(0,s.jsx)(d.bq,{style:{borderColor:"#dfe3ee"},className:"focus-visible:ring-2 focus-visible:ring-offset-2",onFocus:e=>e.target.style.boxShadow="0 0 0 2px #3b5998",onBlur:e=>e.target.style.boxShadow="none",children:(0,s.jsx)(d.yv,{placeholder:"Select health status"})})}),(0,s.jsxs)(d.gC,{children:[(0,s.jsx)(d.eb,{value:"healthy",children:"Healthy"}),(0,s.jsx)(d.eb,{value:"sick",children:"Sick"}),(0,s.jsx)(d.eb,{value:"under_treatment",children:"Under Treatment"}),(0,s.jsx)(d.eb,{value:"quarantine",children:"Quarantine"})]})]}),(0,s.jsx)(R,{})]})}}),(0,s.jsx)(F,{control:E.control,name:"source",render:e=>{let{field:r}=e;return(0,s.jsxs)(P,{children:[(0,s.jsx)(_,{children:"Source"}),(0,s.jsxs)(d.l6,{onValueChange:r.onChange,defaultValue:r.value,value:r.value,children:[(0,s.jsx)(T,{children:(0,s.jsx)(d.bq,{style:{borderColor:"#dfe3ee"},className:"focus-visible:ring-2 focus-visible:ring-offset-2",onFocus:e=>e.target.style.boxShadow="0 0 0 2px #3b5998",onBlur:e=>e.target.style.boxShadow="none",children:(0,s.jsx)(d.yv,{placeholder:"Select source"})})}),(0,s.jsxs)(d.gC,{className:"max-h-[300px]",children:[(0,s.jsxs)(d.s3,{children:[(0,s.jsx)(d.TR,{children:"General"}),(0,s.jsx)(d.eb,{value:"donation",children:"Donation"}),(0,s.jsx)(d.eb,{value:"rescue",children:"Rescue"}),(0,s.jsx)(d.eb,{value:"birth",children:"Birth"}),(0,s.jsx)(d.eb,{value:"stray",children:"Stray"}),(0,s.jsx)(d.eb,{value:"transferred",children:"Transferred"}),(0,s.jsx)(d.eb,{value:"death",children:"Death"}),(0,s.jsx)(d.eb,{value:"gaurakshak",children:"Gaurakshak"})]}),(0,s.jsxs)(d.s3,{children:[(0,s.jsx)(d.TR,{children:"Police Stations"}),O.map(e=>(0,s.jsx)(d.eb,{value:"".concat(e," - rescue"),children:e},e))]})]})]}),(0,s.jsx)(R,{})]})}}),(0,s.jsx)(F,{control:E.control,name:"adopter_name",render:e=>{let{field:r}=e;return(0,s.jsxs)(P,{children:[(0,s.jsx)(_,{children:"Adopter Name (Optional)"}),(0,s.jsx)(T,{children:(0,s.jsx)(o.p,{...r,placeholder:"Name of person who adopted this cow",style:{borderColor:"#dfe3ee"},className:"focus-visible:ring-2 focus-visible:ring-offset-2",onFocus:e=>e.target.style.boxShadow="0 0 0 2px #3b5998",value:r.value||""})}),(0,s.jsx)(R,{})]})}}),(0,s.jsx)(F,{control:E.control,name:"date_time",render:e=>{let{field:r}=e;return(0,s.jsxs)(P,{children:[(0,s.jsx)(_,{children:"Date and Time (Optional)"}),(0,s.jsx)(T,{children:(0,s.jsx)(o.p,{...r,type:"datetime-local",style:{borderColor:"#dfe3ee"},className:"focus-visible:ring-2 focus-visible:ring-offset-2 ",onFocus:e=>e.target.style.boxShadow="0 0 0 2px #3b5998",value:r.value||""})}),(0,s.jsx)("p",{className:"text-xs",style:{color:"#8b9dc3"},children:"Current date/time will be used if left empty"}),(0,s.jsx)(R,{})]})}}),(0,s.jsxs)("div",{className:"space-y-2 md:col-span-2",children:[(0,s.jsx)(c.J,{children:"Cow Photo"}),(0,s.jsx)(b,{name:"photo",onChange:e=>{h(e)}})]}),(0,s.jsx)(F,{control:E.control,name:"notes",render:e=>{let{field:r}=e;return(0,s.jsxs)(P,{className:"md:col-span-2",children:[(0,s.jsx)(_,{children:"Notes"}),(0,s.jsx)(T,{children:(0,s.jsx)(u.T,{...r,placeholder:"Additional information about the cow",rows:4,style:{borderColor:"#dfe3ee"},className:"focus-visible:ring-2 focus-visible:ring-offset-2 placeholder:text-[#8b9dc3]",onFocus:e=>e.target.style.boxShadow="0 0 0 2px #3b5998",value:r.value||""})}),(0,s.jsx)(R,{})]})}})]}),(0,s.jsx)("div",{className:"flex justify-end",children:(0,s.jsx)(i.$,{type:"submit",style:{background:"linear-gradient(135deg, #3b5998 0%, #8b9dc3 100%)",color:"white"},onMouseEnter:e=>e.currentTarget.style.background="linear-gradient(135deg, #2d4373 0%, #7a8bb8 100%)",onMouseLeave:e=>e.currentTarget.style.background="linear-gradient(135deg, #3b5998 0%, #8b9dc3 100%)",disabled:t,children:t?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(p.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Registering..."]}):"Register Cow"})})]})})})]}),(0,s.jsx)(D.A,{isOpen:N,onClose:()=>{w(!1)}})]})}},85057:(e,r,t)=>{"use strict";t.d(r,{J:()=>n});var s=t(95155);t(12115);var a=t(40968),l=t(59434);function n(e){let{className:r,...t}=e;return(0,s.jsx)(a.b,{"data-slot":"label",className:(0,l.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",r),...t})}}},e=>{var r=r=>e(e.s=r);e.O(0,[352,766,67,158,403,719,810,441,684,358],()=>r(3271)),_N_E=e.O()}]);